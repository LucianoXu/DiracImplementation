
\usepackage{amsmath}
%\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{xspace}


\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{example}{Example}[section]
\newtheorem{problem}{Problem}[section]
\newtheorem{principle}{Principle}
\newtheorem{conjecture}{Conjecture}
\newtheorem{postulate}{Postulate}
\newtheorem{fact}{Fact}
\newtheorem{claim}{Claim}

\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}{Corollary}[section]
\newtheorem{lem}{Lemma}[section]
\newtheorem{defn}{Definition}[section]
\newtheorem{prop}{Proposition}[section]
\newtheorem{exam}{Example}[section]
\newtheorem{conj}{Conjecture}
\newtheorem{clm}{Claim}


\newcommand {\nat } {{\mathbb{N}}}
\newcommand {\complexnumber } {{\mathbb{C}}}
\newcommand {\real } {{\mathbb{R}}}
\newcommand {\bI } {{\mathbf{I}}}
\newcommand {\bi } {{\boldsymbol{i}}}

\newcommand {\bB } {{\mathbb{B}}}
\newcommand {\bN } {{\mathbb{N}}}
\newcommand {\bC } {{\mathbb{C}}}
\newcommand {\bR } {{\mathbb{R}}}
\newcommand {\bQ } {{\mathbb{Q}}}
\newcommand {\bZ } {{\mathbb{Z}}}
\newcommand {\bF } {{\mathbb{F}}}
\newcommand {\bt } {{\mathbf{t}}}
\newcommand {\bu } {{\mathbf{u}}}
\newcommand {\bv } {{\mathbf{v}}}
\newcommand {\bw } {{\mathbf{w}}}

\newcommand {\qbar} {{\overline{q}}}
\newcommand {\qI} {{q:=|0\rangle}}
\newcommand {\qU} {{\overline{q}:=U[\overline{q}]}}
\renewcommand{\bra}[1]{\langle #1|}
\renewcommand{\ket}[1]{|#1\rangle}
\renewcommand{\braket}[3]{\langle #1|#2|#3\rangle}

\newcommand {\cA } {{\mathcal{A}}}
\newcommand {\cB } {{\mathcal{B}}}
\newcommand {\cC } {{\mathcal{C}}}
\newcommand {\cD } {{\mathcal{D}}}
\newcommand {\cE } {{\mathcal{E}}}
\newcommand {\cF } {{\mathcal{F}}}
\newcommand {\cG } {{\mathcal{G}}}
\newcommand {\cH } {{\mathcal{H}}}
\newcommand {\cI } {{\mathcal{I}}}
\newcommand {\cJ } {{\mathcal{J}}}
\newcommand {\cK } {{\mathcal{K}}}
\newcommand {\cL } {{\mathcal{L}}}
\newcommand {\cM } {{\mathcal{M}}}
\newcommand {\cN } {{\mathcal{N}}}
\newcommand {\cO } {{\mathcal{O}}}
\newcommand {\cP } {{\mathcal{P}}}
\newcommand {\cQ } {{\mathcal{Q}}}
\newcommand {\cR } {{\mathcal{R}}}
\newcommand {\cS } {{\mathcal{S}}}
\newcommand {\cT } {{\mathcal{T}}}
\newcommand {\cU } {{\mathcal{U}}}
\newcommand {\cV } {{\mathcal{V}}}
\newcommand {\cW } {{\mathcal{W}}}
\newcommand {\cX } {{\mathcal{X}}}
\newcommand {\cY } {{\mathcal{Y}}}
\newcommand {\cZ } {{\mathcal{Z}}}
\newcommand {\cSO} {{\mathcal{SO}}}
\newcommand {\cQO} {{\mathcal{QO}}}
\newcommand {\cQC} {{\mathcal{QC}}}
\newcommand {\cCP} {{\mathcal{CP}}}
\newcommand {\id } {{I}}
\renewcommand {\i } {{\boldsymbol{i}}}
\newcommand {\bD} {{\mathbf{D}}}
\newcommand{\cg}[1]{{{\color{purple}\left\{{\color{black}#1}\right\}}}}
\newcommand{\cgrule}[5]{{{\color{purple}\models}_{#1}^{#2}\cg{#3}{#4}\cg{#5}}}
%\newcommand{\Mexist}{\downmapsto}

%\DeclareRobustCommand{\Mexist}{\,\mathbin{\ooalign{$\downarrow$\cr\hss\raisebox{1.15ex}{\hspace{-0.925ex} \scriptsize $-$}\hss}}\,}

\newcommand {\doms } {{\mathsf{dom}}}
\newcommand {\dom }[1] {{\mathsf{dom}\!\left(#1\right)}}
\newcommand {\codom }[1] {{\mathsf{codom}\!\left(#1\right)}}
\newcommand {\codoms }[1] {{\mathsf{codom}}}
\newcommand {\frees } {{\mathsf{free}}}
\newcommand {\free }[1] {{\mathsf{free}\left(#1\right)}}
\newcommand {\ptype} {{\mathrm{type}}}
\newcommand {\res} {{\mathrm{Res}}}
\newcommand {\emptyprog} {{\mathbf{E}}}
\newcommand{\downmapsto}{\rotatebox[origin=c]{-90}{$\scriptstyle\mapsto$}\mkern2mu}
\newcommand {\rt }[2] {{\left.{#1}\right|_{#2}}}
\newcommand {\tr } {{\mathrm{tr}}}
\newcommand{\rank}{{\rm rank}}
\newcommand {\sem}[1] {\llbracket#1\rrbracket}
\newcommand {\lsem}[1] {\llbracket#1\rrbracket_l}
\newcommand {\coqm}[1] {\text{\small\ttfamily{#1}}}
\newcommand{\mx}{{{\tt x}}}
\newcommand{\my}{{{\tt y}}}
\newcommand{\mz}{{{\tt z}}}
\newcommand{\mt}{{{\tt t}}}
\newcommand{\ms}{{{\tt s}}}
\newcommand{\mF}{{{\tt F}}}
\newcommand{\mT}{{{\tt T}}}
\newcommand{\mi}{{{\tt i}}}
\newcommand{\mj}{{{\tt j}}}
\newcommand{\mk}{{{\tt k}}}
\newcommand{\mm}{{{\tt m}}}
\newcommand{\mn}{{{\tt n}}}
\renewcommand{\mp}{{{\tt p}}}
\newcommand{\mq}{{{\tt q}}}
\newcommand{\mr}{{{\tt r}}}
\newcommand{\wf}{{\mathcal{WF}}}
\newcommand {\seml}[1] {\llparenthesis#1\rrparenthesis}
\newcommand {\spans } {{\mathrm{span}}}
\newcommand {\spec} {{\mathrm{spec}}}
% \newcommand {\dim } {{\mathrm{dim}}}
\newcommand {\supp } {{\mathrm{supp}}}
\newcommand {\cspan } {{\overline{\mathrm{span}}}}
\newcommand {\ol}[1] {{\overline{#1}}}
\newcommand {\ob}[2] {{\left.{#1}\right|_{#2}}}
%\newcommand{\msd}[1][fill=black]{\tikz [x=1ex,y=1ex,line width=.01ex,line join=round] \draw[transform canvas={yshift=.0133cm}]  [#1]  (0,0.5) -- (0.5,1) -- (1,.5) -- (.5,0) -- (0,.5) -- cycle;}%
\def\>{\ensuremath{\rangle}}
\def\<{\ensuremath{\langle}}
\def\ra{\ensuremath{\rightarrow}}
\def\Ra{\ensuremath{\Rightarrow}}
\def\la{\ensuremath{\longleftarrow}}

\newcommand {\swap} {\mathrm{SWAP}}
\newcommand{\proj}{{\mathrm{proj}}}
\newcommand{\op}[1]{{\operatorname{#1}}}
\DeclareTextCommand{\tus}{OT1}{%
  \leavevmode \kern.06em\vbox{\hrule width.6em}}
\newcommand{\us}{{\text{\tus}}}
\newcommand{\tb}{{\text{\textbar}}}
\newcommand{\qerr}{{\mathbf{err}}}
\newcommand{\terr}{{\mathbf{terr}}}
\newcommand{\err}{{\textbf{err}\xspace}}
\newcommand{\scalar}{\textbf{scalar}\xspace}
\newcommand{\suptype}{{\textsf{supertype}\xspace}}
\newcommand{\type}{{\textsf{type}\xspace}}

\newcommand{\vzero}[1]{{\mathbf{0}_{#1}}}
\newcommand{\ozero}[2]{{\mathbf{0}_{#1\rightarrow#2}}}
\newcommand{\idfun}[1]{{\mathds{1}_{#1}}}
\newcommand{\perm}[2]{{\mathbf{Perm}_{#1\rightarrow#2}}}

\providecommand{\TODO}[1]{{\protect\color{red}\noindent {\bf [TODO]}\emph{#1} {\bf [/TODO]}}}
\providecommand{\todo}[1]{{\protect\color{red}\noindent {\bf [todo]}\emph{#1} {\bf [/todo]}}}

\renewcommand{\tt}[1]{\texttt{\frenchspacing{#1}}}
\newcommand{\bs}{{\textbackslash}}

\newcommand{\kskip}{{\mathbf{skip}}}
\newcommand{\kif}{{\mathbf{if}}}
\newcommand{\kwhile}{{\mathbf{while}}}
\newcommand{\kfi}{{\mathbf{fi}}}
\newcommand{\ido}{{\mathbf{do}}}
\newcommand{\iod}{{\mathbf{od}}}
\newcommand{\iskip}{{\mathbf{skip}}}
\newcommand{\iinit}[1]{{{#1} := |0\>}}
\newcommand{\iunit}[2]{{{#1} := {#2}[{#1}]}}
\newcommand{\icond}[4]{{\mathbf{if}\ {#2}[{#3}] = {#1}\rightarrow{#4}_{#1}\ \mathbf{fi}}}
\newcommand{\iwhile}[4]{{\mathbf{while}\ {#1}[{#2}] = {#3}\ \mathbf{do}\ {#4}\ \mathbf{od}}}
\newcommand{\rname}[1]{\textrm{({#1})}}
\newcommand{\iconf}[2]{{\<{#1},\ {#2}\>}}
\newcommand{\cf}[3]{{\left\{#2\right\}#1\left\{#3\right\}}}
\newcommand{\aabort}{{\mathbf{abort}}}
\newcommand{\askip}{{\mathbf{skip}}}
\newcommand{\pset}[1]{{\text{\textrm{set}}({#1})}}
\newcommand{\ainit}[1]{{\mathbf{init}\ {#1}}}
\newcommand{\aapply}[1]{{\mathbf{apply}\ {#1}}}
\newcommand{\acond}[3]{{\mathbf{if}\ (\square{#1}\cdot{#2} = {#1}\rightarrow{#3}_{#1})\ \mathbf{fi}}}
\newcommand{\awhile}[3]{{\mathbf{while}\ {#1} = {#2}\ \mathbf{do}\ {#3}\ \mathbf{od}}}
\newcommand{\akwhile}[4]{{\mathbf{while}^{(#4)}\ {#1} = {#2}\ \mathbf{do}\ {#3}\ \mathbf{od}}}
\newcommand{\afor}[3]{{\mathbf{for}\ {#1}{#2}\ \mathbf{do}\ {#3}_{#1}}}
\newcommand{\CtoQE}{{\texttt{\%:QE}}}
\newcommand{\cl}{{{cl}}}
\renewcommand{\imath}{\mathbf{i}}
\newcommand{\ul}{{\underline{~~}}}

\def\lb{\ensuremath{\llbracket}}
\def\rb{\ensuremath{\rrbracket}}