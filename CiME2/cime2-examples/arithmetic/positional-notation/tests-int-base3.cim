%
%            Entiers relatifs, systeme confluent avec 
%            - addition
%            - soustraction, oppose
%            - multiplication
%            - pgcd
%

operators
%variables
  x,y,z,u,v,w : variable
%constructeurs
  0 : constant
  1_Z,j_Z,0_Z : postfix unary
axioms
  (0)0_Z = 0;

operators
%operateurs
  +_Z  : AC
  - : infix binary
  opp : unary
 
axioms

  x +_Z  0 = x;
  (x)0_Z +_Z (y)0_Z = (x +_Z y)0_Z;
  (x)0_Z +_Z (y)1_Z = (x +_Z y)1_Z;
  (x)0_Z +_Z (y)j_Z = (x +_Z y)j_Z;

  (x)1_Z +_Z (y)1_Z = (x +_Z y +_Z (0)1_Z)j_Z;
  (x)1_Z +_Z (y)j_Z = (x +_Z y)0_Z;

  (x)j_Z +_Z (y)j_Z = (x +_Z y +_Z (0)j_Z)1_Z;

  opp(0) = 0;
  opp((x)0_Z) = (opp(x))0_Z;
  opp((x)1_Z) = (opp(x))j_Z;
  opp((x)j_Z) = (opp(x))1_Z;
  x - y = x +_Z opp(y);


operators
  *_Z  : AC

axioms
  x *_Z 0 = 0;
  x *_Z (y)0_Z = (x *_Z y)0_Z;
  x *_Z (y)1_Z = x +_Z (x *_Z y)0_Z;
  x *_Z (y)j_Z = (x *_Z y)0_Z +_Z opp(x);


order
lexico(
  poly(
[0] = 2 ;
[0_Z](x) = x +  1;
[1_Z](x) = x + 1;
[j_Z](x) = x + 1;
[+_Z](x,y) = x + y - 2;
[opp](x) = x;
[-](x,y) = x + y;
[*_Z ](x,y) = x.y - x - y + 2
);
  poly(
[0] = 2 ;
[0_Z](x) = x;
[1_Z](x) = x + 1;
[j_Z](x) = x + 1;
[+_Z](x,y) = x + y - 2;
[opp](x) = x;
[*_Z ](x,y) = x.y
);
  poly(
[0] = 2 ;
[0_Z](x) = x + 1;
[1_Z](x) = x + 1;
[j_Z](x) = x + 1;
[+_Z](x,y) = x + y - 2;
[opp](x) = 2.x;
[*_Z ](x,y) = x.y
);
interactive)

problems

% 17 = ((((0)1_Z)j_Z)0_Z)j_Z, 8 = (((0)1_Z)0_Z)j_Z ;

  reduce ((((0)1_Z)j_Z)0_Z)j_Z +_Z (((0)1_Z)0_Z)j_Z ;

% doit donner 25 = ((((0)1_Z)0_Z)j_Z)1_Z

  reduce ((((0)1_Z)j_Z)0_Z)j_Z *_Z (((0)1_Z)0_Z)j_Z ;

% doit donner 136 = ((((((0)1_Z)j_Z)j_Z)0_Z)0_Z)1_Z


end

The normal form of  ((((0)1_Z)j_Z)0_Z)j_Z +_Z (((0)1_Z)0_Z)j_Z is
((((0)1_Z)0_Z)j_Z)1_Z
(by 6 reductions)
The normal form of  ((((0)1_Z)j_Z)0_Z)j_Z *_Z (((0)1_Z)0_Z)j_Z is
((((((0)1_Z)j_Z)j_Z)0_Z)0_Z)1_Z
(by 22 reductions)

Number of calls to AC matching      : 490
Number of successful calls          : 28 (5%)
Number of calls to unification      : 0
Number of unifiers generated        : 0
Number of critical pairs considered : 0
Number of rules produced            : 0
Number of rules retained            : 0

      times       |   user   |  system  |  total 
------------------+----------+----------+----------
Total times       |    1.200 |    0.367 |    1.567 
Unification times |    0.000 |    0.000 |    0.000 
Matching times    |    0.567 |    0.067 |    0.633 

