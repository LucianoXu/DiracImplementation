let N = parameters "n";

let S = pword_signature N "a | {n>=1} " ;

let R = psrs S "a^{n} -> | {i>=1};";

let u =  pword S " a a a^{n+n} | {n>=3} ";

preducible R u;

pnormalize R u;

(* To test similitude : *)

let u = pword S " a ^{n-1} a | {n>= 2}";
let v = pword S " a ^{n} | {n>= 2}";

{(ptest_sim u v) ; true } ;


let u = pword S " a a a a^{n}  | {n>= 1}";
let v = pword S " a ^{n+3} | {n>= 1}";
{(ptest_sim u v) ; true } ;


let u = pword S " a^{n} (a a)^{n}  | {n>= 1}";
let v = pword S " (a a a)^{n} | {n>= 1}";
{(ptest_sim u v) ; true } ;

let u = pword S " (a a)^{n}  | {n>= 1}";
let v = pword S " (a a a)^{n} | {n>= 1}";
{(ptest_sim u v) ; false } ;

let u = pword S "  (a a a)^{n}  | {n>= 1}";
let v = pword S " (a a a)^{n} | {n>= 1}";
{(ptest_sim u v) ; true } ;

let u = pword S " (a a)^{n}  | {n>= 1}";
let v = pword S " a^{n+n} | {n>= 1}";
{(ptest_sim u v) ; true } ;


let u = pword S " (a b)^{n} a  | {n>= 1}";
let v = pword S " a (b a)^{n}  | {n>= 1}";
{(ptest_sim u v) ; true } ;

let u = pword S " (a a a )^{n+n} | {n>= 1}";
let v = pword S " (a a)^{n+n+n} | {n>= 1}";
{(ptest_sim v u) ; true } ;

